import{E as y}from"./el-select-686797bf.js";import{a as N}from"./api-0b26dce1.js";import{d as b}from"./dayjs.min-5433e12a.js";import{d as C,r as n,i as k,w as j,j as w,c as l,b as o,F as f,e as x,u,k as P,o as i,t as _,_ as $}from"./index-df4385df.js";const D={class:"list"},I={class:"text-[#cdcccc] mr-5"},M=["onClick"],S={class:"date"},Y={class:"clear-both overflow-hidden py-2"},B=C({__name:"Project",setup(E){const d=n([]),r=n(1),p=n(1),s=n([]),g=k(),m=async()=>{const e=s.value.find(c=>`/${c.typeUrl}`===g.path),t=await N({parentName:"博客文章",categoryName:e.name,page:r.value,limit:10});d.value=t.list,r.value=Number(t.currentPage),p.value=Number(t.totalItems)};j(s,(e,t)=>{console.log("watch 已触发",e)});const h=setInterval(()=>{localStorage.menu&&(s.value=JSON.parse(localStorage.menu),s.value.length>0&&(m(),clearInterval(h)))},200);w(()=>{});const v=e=>{console.log(`当前页: ${e}`),r.value=e,m()};return(e,t)=>{const c=y;return i(),l(f,null,[o("ul",D,[(i(!0),l(f,null,x(u(d),a=>(i(),l("li",{key:a._id},[o("b",I,"No."+_(a.serialNumber),1),o("h3",{onClick:V=>e.$router.push(`./detail/${a._id}`)},_(a.title),9,M),o("div",S,_(u(b)(a.date).format("YYYY-MM-DD")),1)]))),128))]),o("div",Y,[P(c,{class:"float-right",background:"",layout:"prev, pager, next",onCurrentChange:v,total:u(p)},null,8,["total"])])],64)}}});const R=$(B,[["__scopeId","data-v-ecfdfe0a"]]);export{R as default};
