import{E as y}from"./el-select-686797bf.js";import{a as N}from"./api-0b26dce1.js";import{d as b}from"./dayjs.min-5433e12a.js";import{d as C,r as n,i as k,w,j as x,c,b as o,F as g,e as $,u,k as D,o as i,t as _,_ as I}from"./index-df4385df.js";const M={class:"list"},S={class:"text-[#cdcccc] mr-5"},Y=["onClick"],B={class:"date"},E={class:"clear-both overflow-hidden py-2"},H=C({__name:"Home",setup(V){const d=n([]),r=n(1),p=n(1),s=n([]),h=k(),m=async()=>{const e=s.value.find(l=>`/${l.typeUrl}`===h.path),t=await N({parentName:"博客文章",categoryName:e.name,page:r.value,limit:10});d.value=t.list,r.value=Number(t.currentPage),p.value=Number(t.totalItems)};w(s,(e,t)=>{console.log("watch 已触发",e)});const f=setInterval(()=>{localStorage.menu&&(s.value=JSON.parse(localStorage.menu),s.value.length>0&&(m(),clearInterval(f)))},200);x(()=>{});const v=e=>{console.log(`当前页: ${e}`),r.value=e,m()};return(e,t)=>{const l=y;return i(),c(g,null,[o("ul",M,[(i(!0),c(g,null,$(u(d),a=>(i(),c("li",{key:a._id},[o("b",S,"No."+_(a.serialNumber),1),o("h3",{onClick:j=>e.$router.push(`./detail/${a._id}`)},_(a.title),9,Y),o("div",B,_(u(b)(a.date).format("YYYY-MM-DD")),1)]))),128))]),o("div",E,[D(l,{class:"float-right",background:"",layout:"prev, pager, next",onCurrentChange:v,total:u(p)},null,8,["total"])])],64)}}});const O=I(H,[["__scopeId","data-v-5e958453"]]);export{O as default};
