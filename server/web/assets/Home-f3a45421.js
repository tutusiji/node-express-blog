import{E as y}from"./el-select-847a4e2a.js";import{a as N}from"./api-0b26dce1.js";import{d as b}from"./dayjs.min-5433e12a.js";import{d as C,r as n,i as k,w,j as x,c,b as o,F as g,e as $,u,k as D,o as i,t as _,_ as I}from"./index-ffc6089a.js";const M={class:"list"},Y={class:"text-[#cdcccc] mr-5"},B=["onClick"],E={class:"date"},H={class:"clear-both overflow-hidden py-2"},S=C({__name:"Home",setup(V){const d=n([]),r=n(1),p=n(1),s=n([]),h=k(),m=async()=>{const e=s.value.find(l=>`/${l.typeUrl}`===h.path),t=await N({parentName:"博客文章",categoryName:e.name,page:r.value,limit:10});d.value=t.list,r.value=Number(t.currentPage),p.value=Number(t.totalItems)};w(s,(e,t)=>{console.log("watch 已触发",e)});const v=setInterval(()=>{s.value=JSON.parse(localStorage.menu),s.value.length>0&&(m(),clearInterval(v))},200);x(()=>{});const f=e=>{console.log(`当前页: ${e}`),r.value=e,m()};return(e,t)=>{const l=y;return i(),c(g,null,[o("ul",M,[(i(!0),c(g,null,$(u(d),a=>(i(),c("li",{key:a._id},[o("b",Y,"No."+_(a.serialNumber),1),o("h3",{onClick:j=>e.$router.push(`./detail/${a._id}`)},_(a.title),9,B),o("div",E,_(u(b)(a.date).format("YYYY-MM-DD")),1)]))),128))]),o("div",H,[D(l,{class:"float-right",background:"",layout:"prev, pager, next",onCurrentChange:f,total:u(p)},null,8,["total"])])],64)}}});const O=I(S,[["__scopeId","data-v-254c9120"]]);export{O as default};
