import{v as b}from"./el-loading-49915af4.js";import{E as C}from"./el-select-1f0e45fb.js";import{a as k}from"./api-0b26dce1.js";import{d as w}from"./dayjs.min-5433e12a.js";import{d as j,r as o,i as x,w as D,j as P,c as n,k as $,u as r,F as v,e as I,b as l,l as M,o as c,t as _,_ as S}from"./index-9378bc46.js";const Y={class:"list"},B={class:"text-[#cdcccc] mr-5"},E=["onClick"],L={class:"date"},V={class:"clear-both overflow-hidden py-2"},F=j({__name:"Project",setup(J){const p=o([]),i=o(1),m=o(1),s=o([]),f=x(),u=o(!1),g=async()=>{u.value=!0;const e=s.value.find(d=>`/${d.typeUrl}`===f.path),a=await k({parentName:"博客文章",categoryName:e.name,page:i.value,limit:10});p.value=a.list,i.value=Number(a.currentPage),m.value=Number(a.totalItems),u.value=!1};D(s,(e,a)=>{console.log("watch 已触发",e)});const h=setInterval(()=>{localStorage.menu&&(s.value=JSON.parse(localStorage.menu),s.value.length>0&&(g(),clearInterval(h)))},200);P(()=>{});const y=e=>{console.log(`当前页: ${e}`),i.value=e,g()};return(e,a)=>{const d=C,N=b;return c(),n(v,null,[$((c(),n("ul",Y,[(c(!0),n(v,null,I(r(p),t=>(c(),n("li",{key:t._id},[l("b",B,"No."+_(t.serialNumber),1),l("h3",{onClick:O=>e.$router.push(`./detail/${t._id}`)},_(t.title),9,E),l("div",L,_(t.date&&r(w)(t.date).format("YYYY-MM-DD")),1)]))),128))])),[[N,r(u)]]),l("div",V,[M(d,{class:"float-right",background:"",layout:"prev, pager, next",onCurrentChange:y,total:r(m)},null,8,["total"])])],64)}}});const A=S(F,[["__scopeId","data-v-8cd6d1fa"]]);export{A as default};
