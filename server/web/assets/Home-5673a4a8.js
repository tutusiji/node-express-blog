import{v as N,d as C}from"./el-loading-042c9382.js";import{E as k}from"./el-select-ccab143b.js";import{a as w}from"./api-0b26dce1.js";import{d as x,r as o,i as D,w as $,j as I,c as n,k as M,u as l,F as v,e as S,b as r,l as Y,o as c,t as _,_ as B}from"./index-f586ce3c.js";const E={class:"list"},H={class:"text-[#cdcccc] mr-5"},L=["onClick"],V={class:"date"},j={class:"clear-both overflow-hidden py-2"},F=x({__name:"Home",setup(P){const p=o([]),i=o(1),m=o(1),s=o([]),f=D(),u=o(!1),g=async()=>{u.value=!0;const e=s.value.find(d=>`/${d.typeUrl}`===f.path),a=await w({parentName:"博客文章",categoryName:e.name,page:i.value,limit:10});p.value=a.list,i.value=Number(a.currentPage),m.value=Number(a.totalItems),u.value=!1};$(s,(e,a)=>{console.log("watch 已触发",e)});const h=setInterval(()=>{localStorage.menu&&(s.value=JSON.parse(localStorage.menu),s.value.length>0&&(g(),clearInterval(h)))},200);I(()=>{});const b=e=>{console.log(`当前页: ${e}`),i.value=e,g()};return(e,a)=>{const d=k,y=N;return c(),n(v,null,[M((c(),n("ul",E,[(c(!0),n(v,null,S(l(p),t=>(c(),n("li",{key:t._id},[r("b",H,"No."+_(t.serialNumber),1),r("h3",{onClick:J=>e.$router.push(`./detail/${t._id}`)},_(t.title),9,L),r("div",V,_(t.date&&l(C)(t.date).format("YYYY-MM-DD")),1)]))),128))])),[[y,l(u)]]),r("div",j,[Y(d,{class:"float-right",background:"",layout:"prev, pager, next",onCurrentChange:b,total:l(m)},null,8,["total"])])],64)}}});const q=B(F,[["__scopeId","data-v-cb366bfd"]]);export{q as default};
