import{v as y,d as C}from"./el-loading-0a2799ec.js";import{E as k}from"./el-select-3636b940.js";import{a as D}from"./api-0b26dce1.js";import{d as $,r as a,m as w,o as M,c as s,w as S,f as n,F as v,e as Y,b as r,q as j,j as l,t as m}from"./index-77913073.js";const x={class:"list"},B={class:"text-[#cdcccc] mr-5"},E=["onClick"],I={class:"date"},L={class:"clear-both overflow-hidden py-2"},R=$({__name:"Project",setup(P){const p=a([]),c=a(1),_=a(1),i=a([]),f=w(),u=a(!1),g=async()=>{u.value=!0;const e=i.value.find(d=>`/${d.typeUrl}`===f.path),o=await D({parentName:"博客文章",categoryName:e.name,page:c.value,limit:10});p.value=o.list,c.value=Number(o.currentPage),_.value=Number(o.totalItems),u.value=!1},h=setInterval(()=>{localStorage.menu&&(i.value=JSON.parse(localStorage.menu),i.value.length>0&&(g(),clearInterval(h)))},200);M(()=>{});const N=e=>{console.log(`当前页: ${e}`),c.value=e,g()};return(e,o)=>{const d=k,b=y;return l(),s(v,null,[S((l(),s("ul",x,[(l(!0),s(v,null,Y(n(p),t=>(l(),s("li",{key:t._id},[r("b",B,"No."+m(t.serialNumber),1),r("h3",{onClick:F=>e.$router.push(`./detail/${t._id}`)},m(t.title),9,E),r("div",I,m(t.date&&n(C)(t.date).format("YYYY-MM-DD")),1)]))),128))])),[[b,n(u)]]),r("div",L,[j(d,{class:"float-right",background:"",layout:"prev, pager, next",onCurrentChange:N,total:n(_)},null,8,["total"])])],64)}}});export{R as default};
