import{E as y}from"./el-select-847a4e2a.js";import{a as N}from"./api-0b26dce1.js";import{d as b}from"./dayjs.min-5433e12a.js";import{d as C,r as n,i as k,w as j,j as w,c,b as o,F as g,e as x,u,k as P,o as i,t as d,_ as $}from"./index-ffc6089a.js";const D={class:"list"},I={class:"text-[#cdcccc] mr-5"},M=["onClick"],Y={class:"date"},B={class:"clear-both overflow-hidden py-2"},E=C({__name:"Project",setup(S){const _=n([]),r=n(1),p=n(1),s=n([]),h=k(),m=async()=>{const e=s.value.find(l=>`/${l.typeUrl}`===h.path),t=await N({parentName:"博客文章",categoryName:e.name,page:r.value,limit:10});_.value=t.list,r.value=Number(t.currentPage),p.value=Number(t.totalItems)};j(s,(e,t)=>{console.log("watch 已触发",e)});const v=setInterval(()=>{s.value=JSON.parse(localStorage.menu),s.value.length>0&&(m(),clearInterval(v))},200);w(()=>{});const f=e=>{console.log(`当前页: ${e}`),r.value=e,m()};return(e,t)=>{const l=y;return i(),c(g,null,[o("ul",D,[(i(!0),c(g,null,x(u(_),a=>(i(),c("li",{key:a._id},[o("b",I,"No."+d(a.serialNumber),1),o("h3",{onClick:V=>e.$router.push(`./detail/${a._id}`)},d(a.title),9,M),o("div",Y,d(u(b)(a.date).format("YYYY-MM-DD")),1)]))),128))]),o("div",B,[P(l,{class:"float-right",background:"",layout:"prev, pager, next",onCurrentChange:f,total:u(p)},null,8,["total"])])],64)}}});const R=$(E,[["__scopeId","data-v-90ed449d"]]);export{R as default};
